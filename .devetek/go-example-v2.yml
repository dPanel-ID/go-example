version: v0.0.1-alpha.0

setup:
  language:
    name: go
    version: 1.21.4

build:
  target:
    machine: # exec sequentially
      workdir: .
      steps:
        - name: "Build Golang Application"
          command:
            - go build -o go-example main.go
        - name: "Archive Go App to Tarball"
          archive:
            - ./go-example

run:
  name: go-example-v2
  description: Simulate dPanel golang deployment v2 (cloud.terpusat.com)
  command: ./go-example
  port: 9001
  environment:
    - name: PORT
      value: 9001